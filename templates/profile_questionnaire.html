{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="auth-container">
    <h1>Welcome to SkinTrack! ðŸŒ¿</h1>
    <p class="welcome-text">Let's set up your skincare profile to get personalized recommendations.</p>

    {% if form.errors %}
        <div class="form-errors">
            <p>Please correct the following errors:</p>
            {{ form.errors }}
        </div>
    {% endif %}

    <form method="POST">
        {% csrf_token %}
        
        <!-- Skin Type -->
        <div class="form-group">
            <label for="{{ form.skin_type.id_for_label }}">{{ form.skin_type.label }}</label>
            {{ form.skin_type }}
        </div>

        <!-- Skin Concerns -->
        <div class="form-group">
            <label>{{ form.skin_concerns.label }}</label>
            <div class="checkbox-group">
                {% for choice in form.skin_concerns %}
                    {{ choice.tag }}
                    <label for="{{ choice.id_for_label }}">{{ choice.choice_label }}</label>
                {% endfor %}
            </div>
        </div>

        <!-- Current Routine -->
        <div class="form-group">
            <label for="{{ form.current_routine.id_for_label }}">{{ form.current_routine.label }}</label>
            {{ form.current_routine }}
        </div>

        <!-- Skincare Goals -->
        <div class="form-group">
            <label>{{ form.skincare_goals.label }}</label>
            <div class="checkbox-group">
                {% for choice in form.skincare_goals %}
                    {{ choice.tag }}
                    <label for="{{ choice.id_for_label }}">{{ choice.choice_label }}</label>
                {% endfor %}
            </div>
        </div>

        <!-- Custom Goals -->
        <div class="form-group">
            <label for="{{ form.custom_goals.id_for_label }}" class="custom-goals-label">{{ form.custom_goals.label }}</label>
            {{ form.custom_goals }}
        </div>

        <!-- Preferences -->
        <div class="form-group">
            <label>Product Preferences (optional):</label>
            <div class="checkbox-group preferences-group">
                <div class="preference-item">
                    {{ form.prefers_vegan }}
                    <label for="{{ form.prefers_vegan.id_for_label }}">{{ form.prefers_vegan.label }}</label>
                </div>
                <div class="preference-item">
                    {{ form.prefers_fragrance_free }}
                    <label for="{{ form.prefers_fragrance_free.id_for_label }}">{{ form.prefers_fragrance_free.label }}</label>
                </div>
                <div class="preference-item">
                    {{ form.prefers_cruelty_free }}
                    <label for="{{ form.prefers_cruelty_free.id_for_label }}">{{ form.prefers_cruelty_free.label }}</label>
                </div>
            </div>
        </div>

        <button type="submit" class="btn">Complete Profile</button>
        <a href="{% url 'home' %}" class="btn-secondary">Skip for Now</a>
    </form>
</div>
{% endblock %}